document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".registerBtn"),t=document.getElementById("registrationModal"),n=document.getElementById("closeModalBtn"),o=document.querySelector(".homeModalOverlay"),d=document.getElementById("registrationForm"),l=document.getElementById("name"),r=document.getElementById("nameError"),a=document.getElementById("phone"),c=document.getElementById("phoneError"),s=document.getElementById("submitBtn"),i=document.getElementById("selectedCountry"),m=document.getElementById("selectedCountryCode"),u=document.getElementById("countryDropdown"),y=document.getElementById("dropdownIcon"),E=setupPhoneFormatter({inputEl:a,codeLabelEl:m,dropdownEl:u,triggerEl:i,iconEl:y,errorEl:c,defaultCode:"+998"});let g=!1,I=0;function p(){t&&(g=!0,I=window.scrollY,t.style.display="block",document.body.style.overflow="hidden",r.style.display="none",c.style.display="none")}function f(){t&&g&&(g=!1,t.style.display="none",document.body.style.overflow="",document.body.style.position="",document.body.style.top="",window.scrollTo(0,I))}e.forEach((e=>e.addEventListener("click",p))),n&&n.addEventListener("click",f),o&&o.addEventListener("click",f),d.addEventListener("submit",(function(e){e.preventDefault();const t=l.value.trim(),n=a.value.trim();let o=!1;if(t?r.style.display="none":(r.style.display="block",o=!0),E.validate(n)?c.style.display="none":(c.style.display="block",o=!0),o)return;s.textContent="YUBORILMOQDA...",s.disabled=!0;const d=new Date,i=d.toLocaleDateString("uz-UZ"),m=d.toLocaleTimeString("uz-UZ"),u={Ism:t,TelefonRaqam:E.getCurrentCode()+" "+n,SanaSoat:i+" - "+m};localStorage.setItem("formData",JSON.stringify(u)),window.location.href="/thankYou.html",s.textContent="DAVOM ETISH",s.disabled=!1,l.value="",a.value="",f()}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("timer");let t=120;const n=setInterval((()=>{const o=Math.floor(t/60),d=t%60;e.textContent=`${String(o).padStart(2,"0")}:${String(d).padStart(2,"0")}`,t<=0&&clearInterval(n),t--}),1e3);document.querySelectorAll(".minifyImg[data-src]").forEach((e=>{const t=e.getAttribute("data-src");if(!t)return;const n=new Image;n.src=t,n.onload=()=>{e.src=t,e.classList.remove("blur-up"),e.classList.add("loaded")}}))}));